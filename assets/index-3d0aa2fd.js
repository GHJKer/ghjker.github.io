(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();function S(){document.getElementById("slider-window").getBoundingClientRect().left;let r=document.querySelectorAll(".info__slide-text-group"),m=document.getElementById("black-light"),n,l=1,e=document.getElementById("img-2").getBoundingClientRect().width;const t=document.getElementById("slider"),a=document.getElementById("left"),f=document.getElementById("right"),p=20;let o=e+p,h=0;function g(){let i=document.getElementById(`img-${n}`),y=document.getElementById(`img-${l}`);i.classList.toggle("info__img-big"),y.classList.toggle("info__img-big"),i.classList.toggle("info__img"),y.classList.toggle("info__img")}function L(){e=document.getElementById("img-2").getBoundingClientRect().width,o=e+p}function B(){L();const i=document.getElementById("text-block").getBoundingClientRect().left,y=document.getElementById("text-block").getBoundingClientRect().width;document.getElementById("slider-window").style.left=`${i+y+20}px`}window.addEventListener("resize",B),B();function _(){h>=0||(n=l,l-=1,g(),h+=o,t.style.transform=`translate3d(${h}px, 0px, 0px)`,m.style.setProperty("--currentSlide",l-1))}function k(){h<=-o*4||(n=l,l+=1,g(),h-=o,t.style.transform=`translate3d(${h}px, 0px, 0px)`,m.style.setProperty("--currentSlide",l-1))}a.addEventListener("click",()=>{_()}),f.addEventListener("click",()=>{k()});let C=!1,x=[];function w(i){x.push(`${i.changedTouches[0].clientX}`)}t.addEventListener("touchmove",function(i){C&&w(i)}),t.addEventListener("touchstart",function(){C=!0}),t.addEventListener("touchend",function(){C=!1;let i=x[0]-x[x.length-1];i<-o/4&&_(),i>o/4&&k(),x=[]}),r.forEach(function(i){i.addEventListener("mouseover",function(){console.log(i),i.previousElementSibling.classList.add("info__scale")})}),r.forEach(function(i){i.addEventListener("mouseleave",function(){console.log(i),i.previousElementSibling.classList.remove("info__scale")})})}function b(){let r=2,m=0,n;const l=[{id:1,month:2,day:2,text:"This is the second month event, hope you have enough energy"},{id:2,month:2,day:12,text:"Big event, bro, dont miss it that time"},{id:3,month:2,day:19,text:"Another event, very interesting"},{id:4,month:3,day:1,text:"The first day of spring, cheer up, from now on its going to be warmer"},{id:5,month:3,day:5,text:"МАСТЕР- КЛАСС «5 ПСИХОТИПОВ ПОКУПАТЕЛЕЙ В ФЭШН– ЗНАТЬ И ВЛИЯТЬ! КАКИЕ ТРИГГЕРЫ У ЦЕЛЕВОЙ АУДИТОРИИ ВАШЕГО БРЕНДА?»"},{id:6,month:3,day:17,text:"Гид для родителей: как выявить предрасположенность и подготовить будущего спортсмена"}];function e(d,s,v){let u=v-1,c=new Date(s,u),I="<table><tr><th>пн</th><th>вт</th><th>ср</th><th>чт</th><th>пт</th><th>сб</th><th>вс</th></tr><tr>",T=l.filter(E=>E.month===r).map(E=>E.day);for(let E=0;E<t(c);E++)I+="<td></td>";for(;c.getMonth()==u;)I+=`<td><div id="${c.getDate()}" class="calendar__day ${T.includes(c.getDate())?"calendar__event-day":""}">`+c.getDate()+"</div></td>",t(c)%7==6&&(I+="</tr><tr>"),c.setDate(c.getDate()+1);if(t(c)!=0)for(let E=t(c);E<7;E++)I+="<td></td>";I+="</tr></table>",d.innerHTML=I}function t(d){let s=d.getDay();return s==0&&(s=7),s-1}function a(d,s){n=l.find(u=>u.day===d&&u.month===s);function v(){i.innerText=`${m} / ${r} / 23`}n?(y.innerText=n.text,v()):(y.innerText="Не найдено мероприятий в указанную дату",v())}function f(){document.querySelectorAll(".calendar__day").forEach(s=>{s.addEventListener("click",function(){let v=document.querySelector(".calendar__picked");v&&v.classList.toggle("calendar__picked"),s.classList.toggle("calendar__picked"),m=Number(s.id),a(m,r)})})}function p(){r>2&&(r-=1,e(calendar,2023,2),_.innerText="Февраль 2023",f())}function o(){r<3&&(r+=1,e(calendar,2023,3),_.innerText="Март 2023",f())}function h(){let d=l.filter(u=>u.month===r)[0];n=d,m=d.day;let s=d;i.innerText=`${s.day} / ${s.month} / 2023`,y.innerText=s.text,document.getElementById(`${s.day}`).classList.toggle("calendar__picked")}function g(d){let s=document.querySelector(".calendar__picked");if(n){if(d&&n.id+1>l.length||!d&&n.id-1<=0)return;n=l.find(u=>d?u.id===n.id+1:u.id===n.id-1)}else{let u=l.filter(c=>d?c.day>m&&c.month===r:c.day<m&&c.month===r);u.length===0&&(u=l.filter(c=>d?c.month>r:c.month<r)),n=d?u[0]:u[u.length-1]}r!==n.month&&(d?o():p());let v=document.getElementById(`${n.day}`);s&&s.classList.toggle("calendar__picked"),v.classList.toggle("calendar__picked"),i.innerText=`${n.day} / ${n.month} / 2023`,y.innerText=n.text}e(calendar,2023,2),f();const L=document.getElementById("next-month"),B=document.getElementById("prev-month"),_=document.getElementById("month-text"),k=document.getElementById("next-event"),C=document.getElementById("prev-event"),x=document.getElementById("next-event-small"),w=document.getElementById("prev-event-small");let i=document.getElementById("affiche-date"),y=document.getElementById("affiche-text");h(),L.addEventListener("click",function(){p()}),B.addEventListener("click",function(){o()}),k.addEventListener("click",function(){g(!0)}),C.addEventListener("click",function(){g(!1)}),x.addEventListener("click",function(){g(!0)}),w.addEventListener("click",function(){g(!1)})}function $(){const r=document.getElementById("open-modal-btn"),m=document.getElementById("modal"),n=document.getElementById("modal-fader"),l=document.getElementById("close-modal"),e=document.getElementById("error-text"),t=document.getElementById("error-text-tel"),a=document.getElementById("name-input"),f=document.getElementById("input-phone"),p=document.getElementById("modal-close"),o={errorClass:"modal-window__error",errorClassBottom:"modal-window__error-bottom"};function h(){let L=f.checkValidity(),B=/[а-яА-Я]/g.test(a.value);B||(e.classList.add(o.errorClass),a.classList.add(o.errorClassBottom),e.innerText="ФИО должно содержать только русские буквы"),a.value===""&&(e.classList.add(o.errorClass),a.classList.add(o.errorClassBottom),e.innerText="Поле обязательно для заполнения"),B&&a.value.length>0&&(e.classList.remove(o.errorClass),a.classList.remove(o.errorClassBottom)),L?(t.classList.remove(o.errorClass),f.classList.remove(o.errorClassBottom)):(t.classList.add(o.errorClass),f.classList.add(o.errorClassBottom))}function g(){m.classList.toggle("active"),n.classList.toggle("active"),t.classList.remove(o.errorClass),f.classList.remove(o.errorClassBottom),e.classList.remove(o.errorClass),a.classList.remove(o.errorClassBottom),f.value="",a.value=""}r.addEventListener("click",function(){g()}),l.addEventListener("click",function(){h()}),n.addEventListener("click",function(L){L.target.closest("#modal")||g()}),p.addEventListener("click",function(){g()})}S();b();$();
